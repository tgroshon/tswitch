(function(e){e.widget("tagjr.tswitch",{options:{imagePath:"tswitch/img/",size:"auto",flippedOn:true},_defaultSizingOptions:{onImage:"tswitch_container_on.png",offImage:"tswitch_container_off.png",switchImage:"tswitch_default.png",switchHeight:27,switchWidth:94,switchDistance:-53},_altSizingOptions:{onImage:"tswitch_container_on_small.png",offImage:"tswitch_container_off_small.png",switchImage:"tswitch_small.png",switchHeight:14,switchWidth:47,switchDistance:-27},_size:null,_create:function(){var t=this;if(this.options.size=="auto"){e.extend(t.options,t._defaultSizingOptions)}else{e.extend(t.options,t._altSizingOptions)}t.options.offImage=t.options.imagePath+t.options.offImage;t.options.switchImage=t.options.imagePath+t.options.switchImage;t.options.onImage=t.options.imagePath+t.options.onImage;var n=e("<div />");n.addClass("tswitchContainer");n.css("height",t.options.switchHeight+"px");n.css("width",t.options.switchWidth+"px");n.css("position","relative");n.css("overflow","hidden");var r=e("<img />");r.addClass("tswitch");r.css("height",t.options.switchHeight+"px");r.css("width",t.options.switchWidth+"px");r.css("background-image","url("+t.options.switchImage+")");r.css("background-repeat","none");r.css("background-position",t.options.flippedOn?"0px":t.options.switchDistance+"px");r.attr("src",t.options.flippedOn?t.options.onImage:t.options.offImage);t.element.html(e(n).html(e(r)));t.element.css("cursor","pointer");t.element.off("click.tswitch").on("click.tswitch",function(e){t.flip();t._trigger(t.options.flippedOn?"flippedoff":"flippedon",e)})},flip:function(){if(this.options.flippedOn){this.switchOff()}else{this.switchOn()}},switchOn:function(){var t=this;if(t.options.flippedOn){return}this.element.find(".tswitch").animate({backgroundPosition:0},"slow",function(){e(this).attr("src",t.options.onImage);t.options.flippedOn=true});t._trigger("oncomplete",null)},switchOff:function(){var t=this;if(!t.options.flippedOn){return}t.element.find(".tswitch").animate({backgroundPosition:t.options.switchDistance},"slow",function(){e(this).attr("src",t.options.offImage);t.options.flippedOn=false});t._trigger("offcomplete",null)},destroy:function(){this.element.empty();e.Widget.prototype.destroy.call(this)}})})(jQuery)